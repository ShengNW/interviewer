<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}夜莺面试官{% endblock %}</title>

    <!-- Favicon -->
    <link rel="icon" href="{{ url_for('static', filename='favicon.svg') }}" type="image/svg+xml">

    <!-- Bootstrap CSS -->
    <link href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="{{ url_for('static', filename='vendor/fontawesome/css/all.min.css') }}" rel="stylesheet">
    <!-- 自定义样式 -->
    <link href="{{ url_for('static', filename='css/main.css') }}" rel="stylesheet">

    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- 未登录导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-light" style="background: transparent; backdrop-filter: blur(10px); border-bottom: 1px solid rgba(0, 0, 0, 0.08); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);">
        <div class="container-fluid px-4">
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto ms-lg-4">
                    <li class="nav-item">
                        <a class="nav-link px-3" href="{{ url_for('room.index') }}" style="transition: all 0.3s ease; color: #4a5568; font-weight: 500;">
                            <i class="fas fa-home me-2"></i>首页
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link px-3" href="{{ url_for('room.index') }}#pricing" style="transition: all 0.3s ease; color: #4a5568; font-weight: 500;">
                            <i class="fas fa-tag me-2"></i>价格
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link px-3" href="{{ url_for('room.index') }}#contact" style="transition: all 0.3s ease; color: #4a5568; font-weight: 500;">
                            <i class="fas fa-envelope me-2"></i>联系我们
                        </a>
                    </li>
                </ul>

                <ul class="navbar-nav">
                    <!-- 钱包连接按钮 -->
                    <li class="nav-item">
                        <button class="btn btn-primary btn-sm" id="connectWalletBtn" style="border-radius: 10px; padding: 0.5rem 1.25rem; font-weight: 600;">
                            <i class="fas fa-wallet me-2"></i>连接钱包
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 主要内容 -->
    <main class="container-fluid mt-4">
        {% block content %}{% endblock %}
    </main>

    <!-- 现代化页脚 -->
    <footer style="background: transparent; backdrop-filter: blur(10px); padding: 2rem 0; margin-top: 5rem;">
        <div class="container text-center">
            <p class="mb-0" style="color: #4a5568; font-size: 0.95rem;">
                夜莺面试官 - 让AI助力技术面试
            </p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="{{ url_for('static', filename='vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
    <!-- jQuery -->
    <script src="{{ url_for('static', filename='vendor/jquery/jquery.min.js') }}"></script>
    <!-- 自定义脚本 -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <!-- 钱包集成 -->
    <script src="{{ url_for('static', filename='js/wallet.js') }}"></script>

    <!-- 平滑滚动 -->
    <script>
    $(document).ready(function() {
        // 平滑滚动到锚点
        document.querySelectorAll('a[href*="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                const hashIndex = href.indexOf('#');

                if (hashIndex !== -1) {
                    const hash = href.substring(hashIndex);
                    const targetId = hash.substring(1);

                    // 只在当前页面有目标元素时才处理
                    const target = document.getElementById(targetId);
                    if (target) {
                        e.preventDefault();
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });

                        // 更新 URL hash
                        if (window.location.pathname === href.substring(0, hashIndex)) {
                            history.pushState(null, null, hash);
                        }
                    }
                }
            });
        });
    });
    </script>

    {% block extra_js %}{% endblock %}
</body>
</html>
